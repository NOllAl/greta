### Multiple multinomial regression

A multi-variable Bayesian linear regression model using the iris data.

```{r}
data(iris)

# Only choose a small subset until categorical takes matrix arguments
idxs <- c(1:10, 51:60, 101:111)
n <- length(idxs)

X <- as_data(cbind(1, iris[idxs,1:4]))
y <- model.matrix(~Species, iris[idxs,])
P <- ncol(X)
K <- ncol(y)
```

```{r multiple_linear_multilogit_greta}
beta <- normal(0, 5, dim = c(P, K - 1))
eta <- X %*% beta
prob <- imultilogit(eta)

for (i in seq_len(n)) {
  yi <- t(y[i, ])
  distribution(yi) <- categorical(t(prob[i, ]))
}
```
